/*!
 * Theme Name: Basic
 * Version: 0.1.0
 * Theme URL:
 *
 * A simple theme that slides side-to-side
 *
 * Powered by Sequence.js - The open-source CSS animation framework for creating
 * responsive sliders, presentations, banners, and other step-based applications.
 *
 * Author: Ian Lunn
 * Author URL: https://ianlunn.co.uk/
 *
 * Basic Sequence Theme Copyright (c) Ian Lunn 2014
 * License: MIT http://opensource.org/licenses/MIT
 *
 * Sequence.js and its dependencies are copyright (c) Ian Lunn 2014 unless otherwise stated.
 */

@import "partials/mixins";
@import "partials/animations";

// Google Web Font
@import url(http://fonts.googleapis.com/css?family=Roboto:900);

// Colors for each step
$color1: #279FE5;
$color2: #F96852;
$color3: #2BBF8E;

#sequence {
  position: relative;

  // Dimensions
  width: 100%;
  height: 400px;
  max-width: 100%;

  // Hide anything that goes beyond the boundaries of the Sequence container
  overflow: hidden;

  // Center the Sequence container on the page
  margin: 0 auto;
  padding: 0;

  // Some basic styles
  font-family: sans-serif;

  // Reset the canvas and steps for more browser consistency
  .seq-pagination,
  .seq-screen,
  .seq-canvas,
  .seq-canvas > * {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  .seq-preloader {
    background: $color1;
  }

  .seq-pagination {
    visibility: hidden;
    position: absolute;
    z-index: 10;
    bottom: 20px;
    width: 100%;
    text-align: center;

    .seq-current {
      @include prefixed(border-radius, 100%);
    }

    > * {
      margin: 0 4px;
      padding: 0;
      display: inline-block;
      *display: inline;
      zoom: 1;
      width: 28px;
      height: 28px;
      cursor: pointer;
      border: white solid 2px;
      @include prefixed(transition-duration, .1s);
      @include prefixed(transition-property, "background-color, border-radius");

      &[rel="step1"]:hover {
        background-color: $color1;
      }

      &[rel="step2"]:hover {
        background-color: $color2;
      }

      &[rel="step3"]:hover {
        background-color: $color3;
      }

      // Image replacement
      font: 0/0 a;
      text-shadow: none;
      color: transparent;
    }
  }

  // Make the canvas the same dimensions as the container and prevent lines from
  // wrapping so each step can sit side-by-side
  .seq-canvas {
    position: absolute;
    height: 100%;
    width: 100%;
    white-space: nowrap;
    font-size: 0; // Reset the font-size to remove 4px from :before and .title

    // Make the steps the same size as the container and sit side-by-side
    > * {
      display: inline-block;
      *display: inline;
      zoom: 1;
      vertical-align: top;
      width: 100%;
      height: 100%;
      white-space: normal;
      text-align: center;
      color: white;
      @include prefixed(transform, translateZ(0));
    }

    > li:before {
      content: "";
      display: inline-block;
      *display: inline;
      vertical-align: middle;
      height: 100%;
    }
  }

  // Default styles for content
  .content {
    display: inline-block;
    *display: inline;
    vertical-align: middle;
    margin: 0 4%;
    font-size: 16px; // Reset the font-size from 0 back to 16
  }

  .button {
    display: inline-block;
    *display: inline;
    zoom: 1;
    margin-top: 2em;
    padding: .6em;
    color: white;
    border: white solid 2px;
    text-decoration: none;
    text-transform: uppercase;
    font-family: 'Roboto', sans-serif;

    @include prefixed(animation-fill-mode, "forwards");
    @include prefixed(transition-duration, .25s);
    @include prefixed(transition-property, "background-color, color");

    &:hover {
      background-color: white;
    }
  }

  .step1 {
    background-color: $color1;

    .button:hover {
      color: $color1;
    }
  }

  .step2 {
    background-color: $color2;

    .button:hover {
      color: $color2;
    }
  }

  .step3 {
    background-color: $color3;

    .button:hover {
      color: $color3;
    }
  }

  h2,
  h3,
  .button {
    -moz-osx-font-smoothing: grayscale;
    @include prefixed(transform, translateZ(0));
  }

  h2,
  h3 {
    margin: 0 0 .5em 0;
    display: block;
    line-height: 120%;
    -moz-osx-font-smoothing: grayscale;
    @include prefixed(transform, translateZ(0));
  }

  h2 {
    font-family: 'Roboto', sans-serif;
    font-size: 1.8em;
  }

  // when JS is enabled
  &.seq-active {

    .seq-preloader,
    .seq-pagination {
      visibility: visible;
    }

    .seq-preloader.seq-preloaded {
      visibility: hidden;
    }

    .seq-preloader .seq-preload-circle {
      fill: white;
    }

    .content {
      margin-top: -26px; // Pull the content up a bit to account for the pagination
    }

    .button {
      @include prefixed(transform, scale(0) translateZ(0));
    }

    // Starting positions
    h2,
    h3 {
      opacity: 0;
      @include prefixed(transition-duration, .4s);
    }

    h2 {
      @include prefixed(transform, translate(0, -20px));
    }

    h3 {
      @include prefixed(transform, translate(0, 20px));
    }
  }

  // Animate in positions for content
  .seq-in {
    h2,
    h3 {
      opacity: 1;
      @include prefixed(transform, translate(0, 0));
    }

    .button {
      @include prefixed(animation-name, "jelly");
      @include prefixed(animation-duration, .5s);
    }
  }

  // Animate out positions for content
  .seq-out {
    h2,
    h3 {
      opacity: 1;
      @include prefixed(transform, translate(0, 0));
    }

    .button {
      @include prefixed(transform, scale(1) translateZ(0));
    }
  }
}

@media only screen and (min-width: 600px) {
  #sequence {
    height: 585px;

    .content {
      margin-top: -19px; // Pull the content up a bit to account for the pagination
    }

    .seq-pagination > * {
      width: 20px;
      height: 20px;
    }

    h2,
    h3 {
      font-size: 1.4em;
    }

    h2 {
      font-size: 2.6em;
    }
  }
}
